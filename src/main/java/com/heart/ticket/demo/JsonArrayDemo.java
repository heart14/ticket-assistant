package com.heart.ticket.demo;

import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

/**
 * @author wfli
 * @since 2024/8/8 13:05
 */
public class JsonArrayDemo {

    public static void main(String[] args) {

        String respInfo = "{\"code\":\"OP_SUCCESS\",\"msg\":\"成功\",\"traceId\":\"-8157191573484300719\",\"data\":{\"count\":1,\"couponBuyPrice\":18.0,\"couponCode\":\"015966229703\",\"couponEndTime\":\"2024-09-03\",\"dealBeginTime\":\"2019-05-13\",\"dealId\":56668629,\"dealMenu\":\"[[{\\\"choiceType\\\":\\\"2\\\",\\\"choiceNum\\\":\\\"1\\\",\\\"choiceTotal\\\":\\\"3\\\",\\\"type\\\":\\\"0\\\",\\\"content\\\":\\\"主食 3 选 1\\\",\\\"notDishes\\\":\\\"false\\\"},{\\\"total\\\":\\\"19\\\",\\\"images\\\":\\\"[\\\"https://p0.meituan.net/dealwatera/403d1ed20c11815e343288065444e74f51400.jpg@526h_702w_2e_90Q\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"份\\\",\\\"price\\\":\\\"19\\\",\\\"specification\\\":\\\"1 份\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"茄汁肉丸意大利面\\\",\\\"desc\\\":\\\"\\\"},{\\\"total\\\":\\\"19\\\",\\\"images\\\":\\\"[\\\"http://p0.meituan.net/dealwatera/d42213a6ec06f0d079d0f15063db475048972.jpg@526h_702w_2e_90Q\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"份\\\",\\\"price\\\":\\\"19\\\",\\\"specification\\\":\\\"1 份\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"香辣黑椒牛柳面\\\",\\\"desc\\\":\\\"\\\"},{\\\"total\\\":\\\"19\\\",\\\"images\\\":\\\"[\\\"http://p0.meituan.net/dealwatera/48680c9822fd55004b7f029da27dff3b45283.jpg@526h_702w_2e_90Q\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"份\\\",\\\"price\\\":\\\"19\\\",\\\"specification\\\":\\\"1 份\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"韩式鱿鱼大虾面\\\",\\\"desc\\\":\\\"\\\"},{\\\"choiceType\\\":\\\"0\\\",\\\"choiceNum\\\":\\\"0\\\",\\\"choiceTotal\\\":\\\"1\\\",\\\"type\\\":\\\"0\\\",\\\"content\\\":\\\"小食\\\",\\\"notDishes\\\":\\\"false\\\"},{\\\"total\\\":\\\"11\\\",\\\"images\\\":\\\"[\\\"http://p0.meituan.net/dealwatera/cdb85bf70beb45fb921963ceeb61412b56336.jpg@526h_702w_2e_100Q\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"份\\\",\\\"price\\\":\\\"11\\\",\\\"specification\\\":\\\"1 份\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"新奥尔良烤翅（1对）\\\",\\\"desc\\\":\\\"\\\"},{\\\"choiceType\\\":\\\"1\\\",\\\"choiceNum\\\":\\\"1\\\",\\\"choiceTotal\\\":\\\"3\\\",\\\"type\\\":\\\"0\\\",\\\"content\\\":\\\"饮料 3 选 1\\\",\\\"notDishes\\\":\\\"false\\\"},{\\\"total\\\":\\\"4\\\",\\\"images\\\":\\\"[\\\"http://p0.meituan.net/dealwatera/0b2ace161369ee79d41a82655f2316ac23481.jpg@526h_702w_2e_90Q\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"听\\\",\\\"price\\\":\\\"4\\\",\\\"specification\\\":\\\"1 听\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"可乐\\\",\\\"desc\\\":\\\"\\\"},{\\\"total\\\":\\\"4\\\",\\\"images\\\":\\\"[\\\"http://p0.meituan.net/dealwatera/a1cadfa45a5d2903f9abed0cbce6737522836.jpg@526h_702w_2e_90Q\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"听\\\",\\\"price\\\":\\\"4\\\",\\\"specification\\\":\\\"1 听\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"雪碧\\\",\\\"desc\\\":\\\"\\\"},{\\\"total\\\":\\\"4\\\",\\\"images\\\":\\\"[\\\"http://p0.meituan.net/dealwatera/66bee8b9f7d86bf2b92be6bc53e08ce819222.jpg@526h_702w_2e_90Q\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"听\\\",\\\"price\\\":\\\"4\\\",\\\"specification\\\":\\\"1 听\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"芬达\\\",\\\"desc\\\":\\\"\\\"},{\\\"type\\\":\\\"0\\\",\\\"content\\\":\\\"春节期间，商家营业时间变动，建议前往消费前联系商家或查看门店营业状态。\\\",\\\"notDishes\\\":\\\"true\\\"}]]\",\"dealMenuStd\":\"[[{\\\"choiceType\\\":\\\"2\\\",\\\"type\\\":\\\"0\\\",\\\"choiceNum\\\":\\\"1\\\",\\\"content\\\":\\\"主食 3 选 1\\\",\\\"choiceTotal\\\":\\\"3\\\",\\\"notDishes\\\":\\\"false\\\"},{\\\"total\\\":\\\"19\\\",\\\"images\\\":\\\"[\\\\\\\"http://p0.meituan.net/dealwatera/403d1ed20c11815e343288065444e74f51400.jpg@526h_702w_2e_90Q\\\\\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"份\\\",\\\"price\\\":\\\"19\\\",\\\"specification\\\":\\\"1 份\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"茄汁肉丸意大利面\\\",\\\"desc\\\":\\\"\\\"},{\\\"total\\\":\\\"19\\\",\\\"images\\\":\\\"[\\\\\\\"http://p0.meituan.net/dealwatera/d42213a6ec06f0d079d0f15063db475048972.jpg@526h_702w_2e_90Q\\\\\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"份\\\",\\\"price\\\":\\\"19\\\",\\\"specification\\\":\\\"1 份\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"香辣黑椒牛柳面\\\",\\\"desc\\\":\\\"\\\"},{\\\"total\\\":\\\"19\\\",\\\"images\\\":\\\"[\\\\\\\"http://p0.meituan.net/dealwatera/48680c9822fd55004b7f029da27dff3b45283.jpg@526h_702w_2e_90Q\\\\\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"份\\\",\\\"price\\\":\\\"19\\\",\\\"specification\\\":\\\"1 份\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"韩式鱿鱼大虾面\\\",\\\"desc\\\":\\\"\\\"},{\\\"choiceType\\\":\\\"0\\\",\\\"type\\\":\\\"0\\\",\\\"choiceNum\\\":\\\"0\\\",\\\"content\\\":\\\"小食\\\",\\\"choiceTotal\\\":\\\"1\\\",\\\"notDishes\\\":\\\"false\\\"},{\\\"total\\\":\\\"11\\\",\\\"images\\\":\\\"[\\\\\\\"http://p0.meituan.net/dealwatera/cdb85bf70beb45fb921963ceeb61412b56336.jpg@526h_702w_2e_100Q\\\\\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"份\\\",\\\"price\\\":\\\"11\\\",\\\"specification\\\":\\\"1 份\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"新奥尔良烤翅（1对）\\\",\\\"desc\\\":\\\"\\\"},{\\\"choiceType\\\":\\\"1\\\",\\\"type\\\":\\\"0\\\",\\\"choiceNum\\\":\\\"1\\\",\\\"content\\\":\\\"饮料 3 选 1\\\",\\\"choiceTotal\\\":\\\"3\\\",\\\"notDishes\\\":\\\"false\\\"},{\\\"total\\\":\\\"4\\\",\\\"images\\\":\\\"[\\\\\\\"http://p0.meituan.net/dealwatera/0b2ace161369ee79d41a82655f2316ac23481.jpg@526h_702w_2e_90Q\\\\\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"听\\\",\\\"price\\\":\\\"4\\\",\\\"specification\\\":\\\"1 听\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"可乐\\\",\\\"desc\\\":\\\"\\\"},{\\\"total\\\":\\\"4\\\",\\\"images\\\":\\\"[\\\\\\\"http://p0.meituan.net/dealwatera/a1cadfa45a5d2903f9abed0cbce6737522836.jpg@526h_702w_2e_90Q\\\\\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"听\\\",\\\"price\\\":\\\"4\\\",\\\"specification\\\":\\\"1 听\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"雪碧\\\",\\\"desc\\\":\\\"\\\"},{\\\"total\\\":\\\"4\\\",\\\"images\\\":\\\"[\\\\\\\"http://p0.meituan.net/dealwatera/66bee8b9f7d86bf2b92be6bc53e08ce819222.jpg@526h_702w_2e_90Q\\\\\\\"]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"听\\\",\\\"price\\\":\\\"4\\\",\\\"specification\\\":\\\"1 听\\\",\\\"type\\\":\\\"128\\\",\\\"content\\\":\\\"芬达\\\",\\\"desc\\\":\\\"\\\"},{\\\"type\\\":\\\"0\\\",\\\"content\\\":\\\"春节期间，商家营业时间变动，建议前往消费前联系商家或查看门店营业状态。\\\",\\\"notDishes\\\":\\\"true\\\"}]]\",\"dealTitle\":\"尊宝比萨单人餐\",\"dealValue\":34.0,\"dealPrice\":21.0,\"volume\":0,\"singleValue\":34.0,\"rawTitle\":\"精彩单人餐\",\"platformTitle\":\"精彩单人餐\",\"thirdProductId\":\"\",\"shortAttrTitle\":\"精彩单人餐\",\"minConsume\":1,\"bizCost\":3.0,\"bizCostByAccount\":0.0,\"vourcher\":false}}";
//        String respInfo = "{\"code\":\"OP_SUCCESS\",\"msg\":\"成功\",\"traceId\":\"273645161626552388\",\"data\":{\"count\":1,\"couponBuyPrice\":26.9,\"couponCode\":\"015834697024\",\"couponEndTime\":\"2024-11-06\",\"dealBeginTime\":\"2022-11-29\",\"dealId\":807684797,\"dealMenu\":\"[[{\\\"choiceType\\\":\\\"0\\\",\\\"choiceNum\\\":\\\"1\\\",\\\"choiceTotal\\\":\\\"1\\\",\\\"type\\\":\\\"0\\\",\\\"content\\\":\\\"主食\\\",\\\"notDishes\\\":\\\"false\\\"},{\\\"total\\\":\\\"28.9\\\",\\\"images\\\":\\\"[]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"份\\\",\\\"price\\\":\\\"28.9\\\",\\\"specification\\\":\\\"1 份\\\",\\\"type\\\":\\\"128\\\",\\\"fdcDishSkuId\\\":\\\"1640448284726272016\\\",\\\"content\\\":\\\"招牌兰州手撕牛肉面\\\",\\\"desc\\\":\\\"\\\"}]]\",\"dealMenuStd\":\"[[{\\\"choiceType\\\":\\\"0\\\",\\\"type\\\":\\\"0\\\",\\\"choiceNum\\\":\\\"1\\\",\\\"content\\\":\\\"主食\\\",\\\"choiceTotal\\\":\\\"1\\\",\\\"notDishes\\\":\\\"false\\\"},{\\\"total\\\":\\\"28.9\\\",\\\"images\\\":\\\"[]\\\",\\\"amount\\\":\\\"1\\\",\\\"unit\\\":\\\"份\\\",\\\"price\\\":\\\"28.9\\\",\\\"specification\\\":\\\"1 份\\\",\\\"type\\\":\\\"128\\\",\\\"fdcDishSkuId\\\":\\\"1640448284726272016\\\",\\\"content\\\":\\\"招牌兰州手撕牛肉面\\\",\\\"desc\\\":\\\"\\\"}]]\",\"dealTitle\":\"张拉拉兰州手撕牛肉面招牌兰州手撕牛肉面\",\"dealValue\":28.9,\"dealPrice\":26.9,\"volume\":0,\"singleValue\":28.9,\"rawTitle\":\"招牌兰州手撕牛肉面\",\"platformTitle\":\"招牌兰州手撕牛肉面\",\"thirdProductId\":\"\",\"shortAttrTitle\":\"招牌兰州手撕牛肉面\",\"minConsume\":1,\"bizCost\":0.0,\"bizCostByAccount\":0.0,\"vourcher\":false}}";


        JSONObject respObject = JSONObject.parseObject(respInfo);
        String data = respObject.getString("data");
        JSONObject jsonObject = JSONObject.parseObject(data);
        String dealMenu = jsonObject.getString("dealMenu");
        System.out.println(dealMenu);

        String regex = "\"http.*?\"";;
        String replaceAll = dealMenu.replaceAll(regex, "");

        System.out.println(replaceAll);

        JSONArray parseArray = JSONArray.parseArray(replaceAll);

        System.out.println(parseArray);

    }
}
